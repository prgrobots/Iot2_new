# Session 02: LEDs & Breadboards

**Week:** 2  
**Element:** ICTIOT502 Element 2: Program IoT device  
**Duration:** 3.5 hours  
**Phase:** Electronics for Programmers

---

> **Note:** All electronics sessions can be completed using either Arduino (C++) or MicroPython on the ESP32. You may choose your preferred language for all programming tasks, code submissions, and portfolio checkpoints.

---

## Session Introduction

This week you'll build the RGB status indicator for your RockCore Mining haul truck's front panel. Using Wokwi simulator, you'll learn LED control through digital output, PWM fading, and multi-color RGB combinations. This front panel will eventually signal truck status (green=operational, red=fault, amber=warning) visible to pit station operators.

## Learning Objectives

By the end of this session, you will be able to:

- Program digital output pins to control LEDs
- Use PWM (Pulse Width Modulation) for LED brightness control
- Control RGB LEDs to produce multiple colors
- Debug LED circuits using serial monitor
- Apply these skills to your truck's front panel status system

---

## Session Structure

1. **PhysComp Review** – L4-L7 LED fundamentals
2. **Wokwi Exercise 1** – LED on/blink/serial
3. **Wokwi Exercise 2** – LED fade with PWM
4. **Wokwi Exercise 3** – RGB LED color mixing
5. **Portfolio Checkpoint** – Front panel RGB status design

---

## Pre-Session Preparation

!!! info "Required Reading"
    - PhysComp → [Lesson 4: LED On](https://makeabilitylab.github.io/physcomp/arduino/led-on.html)
    - PhysComp → [Lesson 5: LED Blink](https://makeabilitylab.github.io/physcomp/arduino/led-blink.html)
    - PhysComp → [Lesson 6: Serial Output](https://makeabilitylab.github.io/physcomp/arduino/serial-output.html)
    - PhysComp → [Lesson 7: LED Fade](https://makeabilitylab.github.io/physcomp/arduino/led-fade.html)

!!! tip "Setup Check"
    - [ ] Wokwi account ready
    - [ ] Create new Arduino Uno project in Wokwi
    - [ ] GitHub repo ready for screenshots

---

## RockCore Mining Context

Your haul truck needs a **front panel RGB status indicator** that pit station operators can see from 50 meters away:

- **Green**: Truck operational, ready for loading
- **Amber**: Warning state (e.g., engine temperature approaching threshold)
- **Red**: Fault detected (stop loading immediately)

Today you'll build and test this system in Wokwi before implementing it on real hardware in Week 3.

---

## Hands-On Tasks

### Task 1: LED Blink + Serial Debug
Build a circuit with a single LED that blinks every second and prints status to serial monitor.

**Wokwi Starter:** Create new Arduino Uno project, add LED + 220Ω resistor to pin 13.

```cpp
// Week 2 Task 1 - LED Blink with Serial
void setup() {
  pinMode(13, OUTPUT);
  Serial.begin(9600);
  Serial.println("RockCore Truck Status: Initializing...");
}

void loop() {
  digitalWrite(13, HIGH);
  Serial.println("Status: ON");
  delay(1000);
  
  digitalWrite(13, LOW);
  Serial.println("Status: OFF");
  delay(1000);
}
```

### Task 2: PWM Fade for Warning State
Fade an LED smoothly to simulate the amber warning state.

```cpp
// Week 2 Task 2 - PWM Fade (Amber Warning)
int brightness = 0;
int fadeAmount = 5;

void setup() {
  pinMode(9, OUTPUT);  // Must use PWM-capable pin
}

void loop() {
  analogWrite(9, brightness);
  brightness += fadeAmount;
  
  if (brightness <= 0 || brightness >= 255) {
    fadeAmount = -fadeAmount;  // Reverse direction
  }
  delay(30);
}
```

### Task 3: RGB LED Color Mixing
Control an RGB LED to produce green (operational), amber (warning), and red (fault) states.

**Wokwi:** Add RGB LED (common cathode) with three 220Ω resistors.

```cpp
// Week 2 Task 3 - RGB Status Indicator
const int RED = 9;
const int GREEN = 10;
const int BLUE = 11;

void setup() {
  pinMode(RED, OUTPUT);
  pinMode(GREEN, OUTPUT);
  pinMode(BLUE, OUTPUT);
}

void setColor(int r, int g, int b) {
  analogWrite(RED, r);
  analogWrite(GREEN, g);
  analogWrite(BLUE, b);
}

void loop() {
  // Green - Operational
  setColor(0, 255, 0);
  delay(2000);
  
  // Amber - Warning
  setColor(255, 191, 0);
  delay(2000);
  
  // Red - Fault
  setColor(255, 0, 0);
  delay(2000);
}
```

---

## Check Your Knowledge

!!! question "Q1 – PWM vs Digital Output"
    Why can't you use `digitalWrite()` to fade an LED?
    ??? tip "Answer"
        `digitalWrite()` only supports HIGH (5V) or LOW (0V). PWM using `analogWrite()` rapidly switches between HIGH and LOW to create intermediate voltages, controlling brightness.

!!! question "Q2 – RGB Color Mixing"
    What RGB values would you use for amber/orange color?
    ??? tip "Answer"
        Red=255, Green=191, Blue=0 (or similar ratios). Amber is red + partial green, with no blue component.

!!! question "Q3 – Serial Debugging"
    Why is serial output useful when your LED circuit isn't working?
    ??? tip "Answer"
        Serial output confirms your code is running and shows variable values, helping isolate whether the problem is code logic or hardware wiring.

---

## Portfolio Checkpoint

**Save to GitHub:**

1. Three Wokwi project links (one per task)
2. Screenshot of serial monitor output from Task 1
3. Short paragraph: "How will the RGB status system help pit station operators manage truck loading safely?"

This evidences **ICTIOT502 Element 2** – programming IoT device output.

---

## Next Week Preview

**Week 3:** Transition to ESP32 in Wokwi, add button inputs for manual status override, and start building your physical front panel (3D print required).

---

**Navigation:** [← Week 1](01.md) | [Course Overview](../overview.md) | [Week 3 →](03.md)
